/* ─────────────────────────────────────────────────────────
   Dark / Light Theme
   Applied via html[data-theme="dark"]
   ───────────────────────────────────────────────────────── */

/* ── Theme toggle — end of nav, icons inside track ──────── */
.theme-float {
  display: inline-flex;
  align-items: center;
  padding: 0;
  background: transparent;
  border: none;
  cursor: pointer;
}

/* Track: 56×26px pill */
.theme-float-track {
  position: relative;
  width: 56px;
  height: 26px;
  border-radius: 999px;
  background: #374151;
  flex-shrink: 0;
  transition: background 0.3s ease;
}
html[data-theme="dark"] .theme-float-track {
  background: #334155;
}

/* Sun icon — pinned left inside track, always visible */
.theme-float-sun-icon {
  display: block;
  position: absolute;
  left: 5px;
  top: 50%;
  transform: translateY(-50%);
  width: 12px;
  height: 12px;
  overflow: visible;
  color: #fbbf24;
  transition: color 0.25s;
  z-index: 3;  /* above knob */
  pointer-events: none;
}
html[data-theme="dark"] .theme-float-sun-icon {
  color: #6b7280;
}

/* Moon icon — pinned right inside track, always visible */
.theme-float-moon-icon {
  display: block;
  position: absolute;
  right: 5px;
  top: 50%;
  transform: translateY(-50%);
  width: 12px;
  height: 12px;
  overflow: visible;
  color: #6b7280;
  transition: color 0.25s;
  z-index: 3;  /* above knob */
  pointer-events: none;
}
html[data-theme="dark"] .theme-float-moon-icon {
  color: #e2e8f0;
}

/* Sliding knob — left = light mode, right = dark mode */
.theme-float-knob {
  position: absolute;
  top: 3px;
  left: 3px;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #fff;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.35);
  transition: left 0.3s ease;
  z-index: 2;  /* below icons */
}
html[data-theme="dark"] .theme-float-knob {
  left: calc(56px - 20px - 3px); /* = 33px */
}

/* ── Smooth transitions ───────────────────────────────────── */
body,
.site-banner,
.site-header,
.site-nav,
.article-card,
.featured-hero,
.featured-card,
.newsletter-section,
.site-social-icon {
  transition: background-color 0.25s ease, color 0.25s ease, border-color 0.25s ease;
}

/* ── Body ────────────────────────────────────────────────── */
html[data-theme="dark"] body {
  background-color: #0f172a;
  color: #e2e8f0;
}

/* ── Site Banner / Top bar ───────────────────────────────── */
html[data-theme="dark"] .site-banner {
  background-color: #0f172a;
  border-color: #1e293b;
}
html[data-theme="dark"] .site-banner-date {
  color: #475569;
}
html[data-theme="dark"] .site-social-icon {
  color: #475569;
}
html[data-theme="dark"] .site-social-icon:hover {
  color: #94a3b8;
}

/* ── Masthead ────────────────────────────────────────────── */
html[data-theme="dark"] .site-header {
  background-color: #0f172a;
  border-color: #1e293b;
}
html[data-theme="dark"] .masthead-rule {
  background-color: #1e293b;
}
html[data-theme="dark"] .site-title {
  color: #f1f5f9;
}
html[data-theme="dark"] .site-tagline {
  color: #475569;
}
html[data-theme="dark"] .site-est {
  color: #334155;
}
html[data-theme="dark"] .subscribe-btn {
  background-color: #f1f5f9;
  color: #0f172a;
}
html[data-theme="dark"] .subscribe-btn:hover {
  background-color: #e2e8f0;
}

/* ── Nav ─────────────────────────────────────────────────── */
/* Nav is already dark gray-900; in dark mode make it slightly deeper */
html[data-theme="dark"] .site-nav {
  background-color: #020617;
}
html[data-theme="dark"] .site-nav-link {
  color: #94a3b8;
}
html[data-theme="dark"] .site-nav-link:hover {
  color: #f1f5f9;
}
/* Active link (Home) stays white regardless of theme */
html[data-theme="dark"] .site-nav.is-fixed {
  background-color: #020617;
}

/* ── Section dividers ────────────────────────────────────── */
html[data-theme="dark"] .section-divider .section-label {
  color: #475569;
}
html[data-theme="dark"] .section-divider .section-title {
  color: #cbd5e1;
}
html[data-theme="dark"] .section-divider .divider-line {
  background-color: #1e293b;
}
html[data-theme="dark"] .section-divider .view-all-link {
  color: #475569;
}
html[data-theme="dark"] .section-divider .view-all-link:hover {
  color: #e2e8f0;
}

/* ── Featured grid ───────────────────────────────────────── */
html[data-theme="dark"] .featured-grid {
  background-color: #1e293b;
  border-color: #1e293b;
}
html[data-theme="dark"] .featured-hero,
html[data-theme="dark"] .featured-card {
  background-color: #1e293b;
}
html[data-theme="dark"] .featured-hero h2,
html[data-theme="dark"] .featured-card h3 {
  color: #f1f5f9;
}
html[data-theme="dark"] .featured-hero a:hover,
html[data-theme="dark"] .featured-card a:hover {
  color: #94a3b8;
}
html[data-theme="dark"] .featured-hero .excerpt,
html[data-theme="dark"] .featured-card .excerpt {
  color: #94a3b8;
}
html[data-theme="dark"] .featured-hero time,
html[data-theme="dark"] .featured-card time {
  color: #475569;
}
html[data-theme="dark"] .featured-hero .placeholder-bg {
  background-color: #334155;
}
html[data-theme="dark"] .featured-hero .placeholder-bg span {
  color: #475569;
}
html[data-theme="dark"] .featured-sidebar {
  background-color: #1e293b;
}

/* ── Category pills ──────────────────────────────────────── */
html[data-theme="dark"] .category-pill {
  color: #64748b;
  border-color: #334155;
}
html[data-theme="dark"] .category-pill:hover {
  border-color: #94a3b8;
  background-color: #94a3b8;
  color: #0f172a;
}

/* ── Article cards ───────────────────────────────────────── */
html[data-theme="dark"] .article-card {
  background-color: #1e293b;
  border-color: #334155;
}
html[data-theme="dark"] .article-card:hover {
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
}
html[data-theme="dark"] .article-card .placeholder-bg {
  background-color: #334155;
}
html[data-theme="dark"] .article-card .article-excerpt {
  color: #94a3b8;
}
html[data-theme="dark"] .article-card .article-meta {
  color: #475569;
}
html[data-theme="dark"] .article-card .card-footer {
  border-color: #334155;
}
html[data-theme="dark"] .article-card .author-avatar {
  background-color: #334155;
  border-color: #475569;
  color: #94a3b8;
}

/* ── Collection section ──────────────────────────────────── */
html[data-theme="dark"] .collection-section .section-divider .view-all-link {
  color: #475569;
}
html[data-theme="dark"] .collection-section .section-divider .view-all-link:hover {
  color: #e2e8f0;
}

/* ── Newsletter ──────────────────────────────────────────── */
html[data-theme="dark"] .newsletter-section {
  background-color: #1e293b;
}

/* ── Footer ──────────────────────────────────────────────── */
html[data-theme="dark"] footer {
  background-color: #020617;
}

/* ── Scroll-to-top button ────────────────────────────────── */
html[data-theme="dark"] .scroll-top-btn circle[fill="#ffffff"] {
  fill: #1e293b;
}
html[data-theme="dark"] .scroll-top-btn circle[stroke="#fecaca"] {
  stroke: #334155;
}
