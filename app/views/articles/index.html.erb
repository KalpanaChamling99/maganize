<div class="mb-6 border-b border-gray-200 pb-6 flex items-end justify-between gap-4">
  <div>
    <p class="text-xs font-semibold tracking-widest uppercase text-gray-400 mb-1">Archive</p>
    <h1 class="font-serif text-4xl font-bold">All Articles</h1>
  </div>
  <span class="text-sm text-gray-400 mb-1">
    <% if @current_category %>
      <%= @articles.total_count %> <%= "article".pluralize(@articles.total_count) %> in <strong><%= @current_category.name %></strong>
    <% else %>
      <%= pluralize(@articles.total_count, "article") %>
    <% end %>
  </span>
</div>

<%# Category filter pills %>
<div class="flex flex-wrap gap-2 mb-8">
  <%= link_to "All", articles_path(per_page: params[:per_page]),
    class: "category-pill text-xs font-semibold px-4 py-1.5 border transition-all #{@current_category.nil? ? 'filter-pill-active' : 'border-gray-300 text-gray-600'}" %>
  <% @categories.each do |cat| %>
    <%= link_to cat.name, articles_path(category_id: cat.id, per_page: params[:per_page]),
      class: "category-pill text-xs font-semibold px-4 py-1.5 border transition-all #{@current_category&.id == cat.id ? 'filter-pill-active' : 'border-gray-300 text-gray-600'}" %>
  <% end %>
</div>

<% if @articles.any? %>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    <% @articles.each do |article| %>
      <%= render "articles/article_card", article: article %>
    <% end %>
  </div>
  <%= render "shared/pagination_public", collection: @articles, per_page_options: [6, 12, 24] %>
<% else %>
  <div class="py-20 text-center border border-dashed border-gray-300">
    <p class="text-gray-400 mb-3">No articles published yet.</p>
    <%= link_to "Go to admin â†’", admin_root_path, class: "text-sm font-semibold text-gray-900 underline" %>
  </div>
<% end %>
